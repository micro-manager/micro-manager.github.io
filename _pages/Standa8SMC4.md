---
autogenerated: true
title: Standa8SMC4
layout: page
---

## Standa Microstep Controller adapter using XIMC library

<table cellspacing=3>
<tr>
<td markdown="1">

**Summary:**

</td>
<td markdown="1" valign="top">

Interface to Standa 8SMC4-USB using XIMC interface

</td>
</tr>
<tr>
<td markdown="1">

**Author:**

</td>
<td markdown="1">

Standa (<8smc4@standa.lt>)

</td>
</tr>
<tr>
<td markdown="1">

**License:**

</td>
<td markdown="1">

BSD

</td>
</tr>
<tr>
<td markdown="1">

**Platforms:**

</td>
<td markdown="1">

Windows

</td>
</tr>
<tr>
<td markdown="1">

**Available since version:**

</td>
<td markdown="1">

1.4.22

</td>
<tr>
<td markdown="1">

**Website:**

</td>
<td markdown="1">

[en.xisupport.com](http://en.xisupport.com)

</td>
</table>

## Differences between Standa adapters

There are three different device adapters for Standa motor controllers:

-   Standa8SMC4 – official adapter (this one) for operation with
    8SMC4-USB motor controller which was developed by Standa motion
    control department.
-   Standa – adapter for 8SMC1-USBhF (old version of motor controller
    from Standa).
-   StandaStage – another adapter with 8SMC1-USBhF support.

## Supported platforms

Currently only Windows platform is tested and supported. Device adapter
can be compiled and launched on Linux and Macintosh as well but it is
not tested yet.

## Preparation

-   Install Micro-Manager. It is straightforward procedure and there are
    usually no problems with setup process.
-   Download
    [libximc-2.7.6](https://ximc.ru/attachments/download/16220/ximc-2.7.6.Tar.gz)
    library distribution.
-   Copy following DLLs from extracted directory
    `ximc-2.7.6/ximc/win32/` to the Micro-Manager directory:
    `libximc.dll, xiwrapper.dll, bindy.dll`
-   Install VC++ 2013 Redistributable Package from the extracted file
    `ximc-2.7.6/ximc/win32/vcredist_x86.exe`
-   Connect a power supply to *8SMC4-USB* and set the appropriate
    voltage for motors in your stage. Turn a power supply on.
-   You need XiLab to check your *8SMC4-USB* controllers and set it.
    XiLab version depends on the controller firmware version. You can
    download XiLab and update controller's firmware attachments [this
    page](https://en.xisupport.com/projects/enxisupport/wiki/Software).
-   Connect *8SMC4-USB* controllers to computer via USB and open them in
    XiLab software. Click *Restore from file...* in *Settings...* window
    of XiLab and choose appropriate profile for your stage. Click *Save
    to flash*. For additional information check [User
    guide](https://en.xisupport.com/projects/enxisupport/wiki/XILab_application_User's_guide).

{% include Note text="64-bit version is supported too. Do not forget to use libraries from <code>ximc-2.7.6/ximc/win64/</code> directory instead of <code>win32</code>.
" %}

<figure>
<img src="media/UM_set_XiLab.png" title="media/UM_set_XiLab.png" width="600" alt="media/UM_set_XiLab.png" /><figcaption aria-hidden="true">UM_set_XiLab.png</figcaption>
</figure>

## Getting started with Micro-Manager

### Run Micro-Manager

{% include Note text="
Note. When installing the Micro-Manager in <code>C:\Program Files</code> access to configuration files is limited and you need to have administrator privileges. To start an application as administrator right click by its icon and choose <code>Run as administrator</code>. 
" %}

-   Run Micro-Manager from the shortcut at your desktop or start
    *ImageJ.exe* application from installation directory. First time it
    will greet you and suggest to type some information about yourself.
-   The next window contains drop-down list with configuration files.
    Choose *None*.

### Configure hardware

In the main window choose *Tools -&gt; Hardware configuration wizard*.

![](media/UM_HCW.png "UM_HCW.png")

The process of hardware configuration consists of 6 steps:

1\. At start, choose *Create new configuration* and click *Next*.

<figure>
<img src="media/UM_newconf.png" title="media/UM_newconf.png" width="600" alt="media/UM_newconf.png" /><figcaption aria-hidden="true">UM_newconf.png</figcaption>
</figure>

2\. At the second step Micro-Manager prompts you to add hardware. If you
want to use MicroManager with *8SMC4-USB* motor controller choose
*Standa8SMC4* folder in down window with available devices. There are
two drivers: *Standa8SMC4Z* for motor controller with one axis and
*Standa8SMC4XY* for controller with 2 axes. When you select one of them,
a dialog box with properties will appear.

<figure>
<img src="media/UM_set.png" title="media/UM_set.png" width="600" alt="media/UM_set.png" /><figcaption aria-hidden="true">UM_set.png</figcaption>
</figure>

3\. In the *Value* column type the COM port number for motor controller
in the next format:

```
xi-com:%5C%5C.%5CCOMn
```

Trailing letter **n** is a number of corresponding COM port (look at the
screenshot above). You can find it in XiLab or in *Device Manager -&gt;
Ports*. Click *Ok*. *Unit Multiplier X/Y* fields are leaved with default
values. These values allow you to set stage speed. 4. For *Standa8SMC4Z*
you should type COM port and Unit Multiplier too. Z axis is usually used
as a focusing stage. 5. Camera is added in the same way. You need to
know correct driver name for your camera. *OpenCVGrabber* driver may be
used for any USB camera. Choose OpenCVGrabber folder in Available
Devices. The next window will appear. Click *Ok*.

<figure>
<img src="media/UM_set_OpenCV.png" title="media/UM_set_OpenCV.png" width="600" alt="media/UM_set_OpenCV.png" /><figcaption aria-hidden="true">UM_set_OpenCV.png</figcaption>
</figure>

6\. Click *Next* and *Finish* in the last step.

The system configuration is finished.

### Device usage

We have installed and configured Micro-Manager and can check how does it
work.

1\. Set the pixel size parameter in *Tools -&gt; Pixel Size
Calibration...*. There are you should type the pixel size value and mark
parameters that Micro-Manager should consider. Click *New* to create new
pixel size. In appeared window mark resolution of your camera (with
*OpenCVGrabber* it is *OpenCVGrabber - Resolution* parameter) and type
pixel size (in um). If you want to calculate pixel size parameter you
need to know image size from microscope, its resolution and displacement
(from screw pitch) for you stage.

2\. Modify *UnitMultiplierX* and *UnitMultiplierY* (*Tools -&gt;
Hardware Configuration Wizard*, then select *Modify or explore the
existing configuration*, then click *Next*, then double click to
*Standa8SMC4XY* in *Installed Device window*). It is needed for correct
conversion from stage movement distance to pixel size value change.

3\. Choose *Tools -&gt; Stage Position List...*. Click *Set Origin* to
set zero of your stage coordinate system. Then, in the main window click
*Live*. Choose *Scrolling Tool* (like a hand) in the *ImageJ* window.
Make sure that cursor looks like a hand on the screen. Click the windows
with the video from camera. Now you can control your stage by keyboard
(arrow keys to control XY axis and U,J buttons to control Z axis).

4\. You can scroll an image from a camera with the mouse cursor. Click
*Tools -&gt; Mouse Moves Stage* (Use Hand Tool). Now click video window
and drag it in the desired direction. Stage will move in the same
direction. Double click will allow you to center the view on the chosen
point in the image.

{% include Note text="
For example you set the pixel size is equal to 1um. And ''UnitMultiplierX/Y'' is equals to 1.0000. With 8MTF stage table one pixel shift corresponds to 12.5um. If we will set ''UnitMultiplierX/Y'' to 12.5 than movement at one pixel will corresponds to 1um.
" %}

{% include Note text="
You may decrease ''UnitMultiplier'' if the stage speed is low and increase it if the stage speed is very high. 
" %}
