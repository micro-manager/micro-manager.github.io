TODO list for 2.0. These are considered release blockers, unlike the items in the [[Version_2.0_Wishlist]].

==== Data API ====

* Allow saving custom axes
** Fold into time axis? Data file only has 3 "natural" axes (channel, z, time), extras are layered into time axis according to order in metadata. So e.g. metadata says ["polarization", "position", "time"] -> polarization axis and position axis are in time axis, with time changing most frequently, then position, then polarization. Would allow data to be accessed in ImageJ (albeit in a somewhat odd fashion), but conversion of 1.4 datasets might be painful.
* Show an error when saving with custom axes
** And throw an exception if code goes through with it.
** And if you try to use a file-based Storage and add an Image with a custom axis
* Ensure that 1.4 blatantly and quickly fails to load 2.0 data files
** Add a metadata version that we check for so we can cleanly fail when loading future versions
* Add axis order information to SummaryMetadata (and populate when acquiring data, and use when creating new DisplayWindows; see related TODO under viewers)
* Add acquisitionData, coreData, deviceAdapterData categories to metadata.

==== Profiles ====

* Having to register again is wrong, probably. In general all settings that were in Preferences are "lost".
* Main window size is a little wrong on Windows. (fixed?)
* Auto-select previous profile at startup prompt? Entire profile system is maybe unclear.
* Auto-select user's previous config file when user profile is selected.
* Fix previous config files.

==== Daytime/Nighttime ====

* Low-contrast text can be hard to read in nighttime mode.
* MDA dialog has bright white components in nighttime mode.

==== Documentation ====

* org.micromanager.MultistagePosition (missing parameter descriptions)
* org.micromanager.data.DataManager (missing variable and return descriptions, superfluous imports)
* org.micromanager.data.Metadata (missing variable and return descriptions, formatting of Javadoc)
* org.micromanager.data.Storage (unused import, missing return and variable descriptions)
* org.micromanager.data.SummaryMetadata (missing javadoc to builder)

* org.micromanager.display.DisplaySettings (missing return and variable description, unused import)

==== Viewer window ====

* ImageJ tools and the right-click Duplicate command don't work (cannot repro this one)

* When duplicating displays, displayed axis order changes
* Image window resizing on zoom can send it off the bottom of the taskbar.
* Image window is gigantic when first showing up (resolution 1.2k x 1k)
* Image dimensions etc. move from main window to image window?
* In fullscreen mode would be nice if we could shove the image over to make room for the inspector.
* Animating 3-channel timeseries has a lot of jumping back-and-forth, and overall animation rate is not faithful. Possibly due to large images being harder to draw.

==== Miscellaneous ====

* Update useful existing scripts to new API
* Replace MMException/MMScriptException with more descriptive (and non-custom) exceptions
* Scan through entire codebase for TODO tags and fix them if appropriate
* When in nighttime mode, MDA channel settings are hard to read ("disabled text" color is easier to read than "enabled text" color)
* Recently-used config files dropdown in intro dialog is missing entries.

==== Testing ====
* Be sure to test non-square images from time to time
* Leave a Live display open for a few hours and see if the display "breaks".
* Check for memory leaks
* Try running acquisitions on 32-bit systems (in particular be aware of memory constraints e.g. with direct byte buffers)
* Test on Windows
* Test on older Macs and on displays with varying pixel densities

==== Plugins ====
* Still have to select overlay plugins (e.g. Acquisition Tools -> Pattern Overlay) from the Plugins menu before they become available in the overlays tab; this ought to happen automatically on program start.

==== Files ====
* Ensure loading of 1.4 files works properly, with fallbacks for properties that aren't available but should be in 2.0 (e.g. display settings)

==== Inspector ====
* When last image window closes, inspector still shows information (e.g. in histograms)
* Restore logarithmic histogram mode.
* Histogram eye button is not linked via link buttons
* Histogram bit depth selection is not linked via link buttons (it's not even in the DisplaySettings)
* Inspector window position isn't remembered correctly.
* Histogram full/auto once buttons are squished together on Windows
* Nico hates that Display Settings tab isn't open by default / autostretch settings aren't part of main histogram display
* Initial scaling isn't autostretched for new MDA (even when autostretch is checked)
* Histogram eyeball and color (and presumably link button) are too big
* Left/right buttons for horizontal histogram scale are reduced to "..." on Windows
** Same with animate buttons on image window
* MetadataPanel doesn't show anything when first opened (or when different images in MDA are selected -- did a 3-channel snapshot MDA).
* Extrema ignore% spinners should be in .1% increments.
* Histogram autoscaling only seems to apply to *next* image, not current image (OnPixelsSet vs. OnNewImage?).
* Size of scalebar is wrong (e.g. tiny 100um scalebar should be much bigger or number should be different)
* Option for centered text for scalebar (or different alignments in general)
* Overlays aren't redrawn when overlay is removed.
* Remove "draw timestamp" checkbox
* Option to change size of timestamp (incl. font size)
