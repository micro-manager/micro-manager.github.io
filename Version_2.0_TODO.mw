TODO list for 2.0. These are considered release blockers, unlike the items in the [[Version_2.0_Wishlist]].

==== Data API ====

* Ensure that 1.4 blatantly and quickly fails to load 2.0 data files
** Add a metadata version that we check for so we can cleanly fail when loading future versions
* Note: we are explicitly ignoring camera-provided metadata for the moment (will require modifications to the Core to tag these metadatas)

==== Profiles ====

* Having to register again is wrong, probably. In general all settings that were in Preferences are "lost".
** This depends on if the first official 2.0 release is from UCSF vs. Open Imaging.
** More general problem with importing Preferences: how do we access the old Preferences node? org.micromanager.MMStudio no longer exists. See also [http://stackoverflow.com/questions/30464014/load-preferences-for-nonexistent-class this StackOverflow thread]
* Auto-select previous profile at startup prompt? Entire profile system is maybe unclear.

==== Viewer window ====

* Image dimensions etc. move from main window to image window?
* In fullscreen mode would be nice if we could shove the image over to make room for the inspector.
* Animating 3-channel timeseries has a lot of jumping back-and-forth (Windows-only?), and overall animation rate is not faithful. Possibly due to large images being harder to draw. Possibly fixed by bugfix that removed duplicate canvas-update threads
* Multicam config file, 10ms exposure, start program, click "Live" in main frame (with no pre-existing image window) -> tons of error spam and also sometimes we get an EDT hang.
** Error message: "Error: this application, or a library it uses, has passed an invalid numeric value (NaN, or not-a-number) to CoreGraphics API. This is a serious error and contributes to an overall degradation of system stability and reliability. This notice is a courtesy: please fix this problem. It will become a fatal error in an upcoming update."
** EDT hang may be fixed; possible culprit was us creating two canvas update threads which could have been fighting each other for resources
* Users with no profile settings will see viewer window and inspector both positioned at (0, 0)
* Massive flicker when mousing over the image canvas

==== Miscellaneous ====

* Update useful existing scripts to new API
* Scan through entire codebase for TODO tags and fix them if appropriate
* Autofocus API needs some attention (remove use of PropertyItem and MMException?)
* Merge against latest SVN
** NB that due to line ending changes, conflicts in multipage TIFF reader/writer couldn't be detected. Other files (MMStudio, ScriptInterface, MMAcquisition, ChannelControlPanel, DisplayWindow, MetadataPanel, FileMenu,) got "deleted" (improperly moved, I guess) and thus similarly couldn't detect changes.
** ASIdiSPIM and Magellan plugins are of course hopelessly nonfunctional.
* Device Property Browser dialog is very ugly in night mode
* Issues during startup (errors not finding org.micromanager.MMStudio)
* Script panel is hard to read in night mode.
* Wiki page for Netbeans setup needs to take into account Maven directory structure ("resources" and "scripts" directories need to be added to the "libraries" in project properties)

==== Testing ====
* Be sure to test non-square images from time to time
* Leave a Live display open for a few hours and see if the display "breaks".
* Check for memory leaks
* Try running acquisitions on 32-bit systems (in particular be aware of memory constraints e.g. with direct byte buffers)
* Test on Windows
* Test on older Macs and on displays with varying pixel densities
* Test high-speed acquisitions

==== Plugins ====
* Still have to select overlay plugins (e.g. Acquisition Tools -> Pattern Overlay) from the Plugins menu before they become available in the overlays tab; this ought to happen automatically on program start.

==== Files ====
* Ensure loading of 1.4 files works properly, with fallbacks for properties that aren't available but should be in 2.0 (e.g. display settings)
* Test importing using BioFormats importer in FIJI.
* Ensure that 2.0 can handle saving files with 7000 positions (c.f. Neil Grant's problem in email)
** The issue here was that the summary metadata was getting duplicated for every single MultipageTiffWriter, while that information really ought to remain resident with the dataset as a whole instead.

==== Inspector ====
* Autostretching and linking interact poorly -- autostretch should apply to the currently-displayed image.
** So make autostretch be a per-channel property, and modify ChannelControlPanel to only use the linked min/max when autostretch is not set. Requires adding an autostretch toggle button to each channel.
* Histogram full/auto once buttons are squished together on Windows
* MetadataPanel doesn't show anything when first opened (or when different images in MDA are selected -- did a 3-channel snapshot MDA).
* Histogram autoscaling only seems to apply to *next* image, not current image (OnPixelsSet vs. OnNewImage?).
* Size of scalebar is wrong (e.g. tiny 100um scalebar should be much bigger or number should be different)
* Option for centered text for scalebar (or different alignments in general)
* Option to change size of timestamp (incl. font size)
* Inspector window moves when size changes (want to keep top-left corner consistent)
