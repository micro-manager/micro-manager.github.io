TODO list for 2.0. These are considered release blockers, unlike the items in the [[Version_2.0_Wishlist]].

==== Data API ====

* Rename "fileName" attribute of SummaryMetadata? We store entire directories of data, not individual files. It's also used for naming display windows.
* Allow saving custom axes
* Add axis order information to SummaryMetadata (and populate when acquiring data, and use when creating new DisplayWindows; see related TODO under viewers)

==== Images and windows ====

* Add getCoordsFromTaggedImage to extract Coords object from JSONObject?
* On shutdown, attempt to close all windows; cancel shutdown if user cancels window close (see TODO in MMStudio.closeSequence())

==== Documentation ====

* org.micromanager.MultistagePosition (missing parameter descriptions)
* org.micromanager.PropertyMap (missing parameter descriptions and description of returned variables, also should have an example of the builder concept in the header)
* org.micromanager.data.DataManager (missing variable and return descriptions, superfluous imports)
* org.micromanager.data.Image (missing variable and return descriptions, unused import)
* org.micromanager.data.Metadata (missing variable and return descriptions, formatting of Javadoc)
* org.micromanager.data.Storage (unused import, missing return and variable descriptions)
* org.micromanager.data.SummaryMetadata (missing javadoc to builder)

* org.micromanager.display.DisplayManager (missing return and variable description)
* org.micromanager.display.DisplaySettings (missing return and variable description, unused import)
* org.micromanager.display.DisplayWindow (missing return and variable description)
* org.micromanager.display.NewImagePlusEvent (missing Javadoc)
* org.micromanager.display.NewDisplaySettingsEvent (missing Javadoc)
* org.micromanager.disply.OverlayPanel(missing parameter description)
* org.micromanager.display.RequestToCloseEvent (missing Javadoc)
* org.micromanager.display.RequestToDrawEvent (missing Javadoc)

==== Viewer window ====

* ImageJ tools and the right-click Duplicate command don't work (cannot repro this one)
* Set up multicam, start live, stop live, change camera colors, change binning, restart live -> colors not kept in new window
* Add line profile to gear menu (make it specific to the current display, of course)

* When duplicating displays, displayed axis order changes
* Use multicam config, snap image, duplicate snap/live window, original window loses one of its channels (until you switch back)
* Restore save button separate from gear menu

==== Miscellaneous ====

* Update useful existing scripts to new API
* Replace MMException/MMScriptException with more descriptive (and non-custom) exceptions
* Scan through entire codebase for TODO tags and fix them if appropriate
* When in nighttime mode, MDA channel settings are hard to read ("disabled text" color is easier to read than "enabled text" color)

==== Testing ====
* Be sure to test non-square images from time to time
* Leave a Live display open for a few hours and see if the display "breaks".
* Check for memory leaks
* Try running acquisitions on 32-bit systems (in particular be aware of memory constraints e.g. with direct byte buffers)
* Test on Windows

==== Plugins ====
* Still have to select overlay plugins (e.g. Acquisition Tools -> Pattern Overlay) from the Plugins menu before they become available in the overlays tab; this ought to happen automatically on program start.

==== Files ====
* Ensure loading of 1.4 files works properly, with fallbacks for properties that aren't available but should be in 2.0 (e.g. display settings)

==== Inspector ====
* Comments panel is currently busted; it constantly loops recording changes to the image comments once anything is written to them.
* MetadataPanel goes nuts when acquisition is done and using scrollbars (flickers display of metadata on/off)
* When last image window closes, inspector still shows information (e.g. in histograms)
* Restore logarithmic histogram mode.
* Make histograms taller (already wide enough)
* Histogram eye button is not linked via link buttons
* Histogram bit depth selection is not linked via link buttons (it's not even in the DisplaySettings)
* Automatically raise window when selected from dropdown menu
