This page will soon contain documentation for the file formats of Micro-Manager image data sets, and a description of the Metadata system.

==1.4 (MetadataVersion 10, subject to change)==

The metadata.txt file contains a [http://json.org JSON] key-value map. The first key will be "Summary":

<pre>
	"Summary": {
		"Image-Height": "512",
		"MetadataVersion": "10",
		"Acquisition-Frames": "4",
		"Acquisition-Slices": "3",
		"Image-Width": "512",
		"Acquisition-Channels": "3",
		"Acquisition-Positions": "3",
		"Image-PixelType": "GRAY8"
	},
</pre>

(Many more keys should be added to this Summary.)

Following this are a series of "FrameKey" key-value pairs, in the order in which they were acquired (and roughly in the order they are displayed). Each FrameKey contains a number of Acquisition and Image keys, as well as all properties of the System when each image was acquired (sorted here for clarity):
<pre>
"FrameKey-Pos0-0-Cy5-0": {
	"Acquisition-ChannelIndex": "0",
        "Acquisition-ChannelName": "Cy5",
        "Acquisition-ExposureMs": "10.0000",
        "Acquisition-FileName": "Pos0/img_000000000_Cy5_000.tif",
        "Acquisition-FrameIndex": "0",
        "Acquisition-PixelSizeUm": "1.0000",
        "Acquisition-PositionIndex": "0",
        "Acquisition-PositionName": "Pos0",
        "Acquisition-SliceIndex": "0",
        "Acquisition-SlicePosition": "0.0000",
        "Acquisition-Source": "Camera",
        "Acquisition-TimeMs": "0.0017",
        "Acquisition-XYRequestedXPosition": "-0.0000",
        "Acquisition-XYRequestedYPosition": "-0.0000",
        "Acquisition-ZPositionUm": "0.0000",
        "Autofocus-Description": "Demo auto-focus adapter",
        "Autofocus-Name": "DAutoFocus",
        "Camera-Binning": "1",
        "Camera-BitDepth": "8",
        "Camera-CameraID": "V1.0",
        "Camera-CameraName": "DemoCamera-MultiMode",
        "Camera-CCDTemperature": "0.0000",
        "Camera-Description": "Demo Camera Device Adapter",
        "Camera-ErrorSimulation": "0",
        "Camera-Exposure": "10.00",
        "Camera-Gain": "0",
        "Camera-Name": "DCam",
        "Camera-Offset": "0",
        "Camera-OnCameraCCDXSize": "512",
        "Camera-OnCameraCCDYSize": "512",
        "Camera-PixelType": "8bit",
        "Camera-PropertyRefreshSimulation": "0",
        "Camera-ReadoutTime": "0.0000",
        "Camera-ScanMode": "1",
        "Camera-TestProperty1": "0.0000",
        "Camera-TestProperty2": "0.0000",
        "Camera-TestProperty3": "0.0000",
        "Camera-TestProperty4": "0.0000",
        "Camera-TransposeCorrection": "0",
        "Camera-TransposeMirrorX": "0",
        "Camera-TransposeMirrorY": "0",
        "Camera-TransposeXY": "0",
        "Core-AutoFocus": "Autofocus",
        "Core-AutoShutter": "0",
        "Core-Camera": "Camera",
        "Core-ChannelGroup": "Channel",
        "Core-Focus": "Z",
        "Core-ImageProcessor": "",
        "Core-Initialize": "1",
        "Core-Shutter": "Shutter",
        "Core-SLM": "",
        "Core-TimeoutMs": "5000",
        "Core-XYStage": "XY",
        "Dichroic-ClosedPosition": "0",
        "Dichroic-Description": "Demo filter wheel driver",
        "Dichroic-Label": "400DCLP",
        "Dichroic-Name": "DWheel",
        "Dichroic-State": "0",
        "Emission-ClosedPosition": "0",
        "Emission-Description": "Demo filter wheel driver",
        "Emission-Label": "Chroma-HQ700",
        "Emission-Name": "DWheel",
        "Emission-State": "0",
        "Excitation-ClosedPosition": "0",
        "Excitation-Description": "Demo filter wheel driver",
        "Excitation-Label": "Chroma-HQ570",
        "Excitation-Name": "DWheel",
        "Excitation-State": "0",
        "Filename": "Pos0/img_000000000_Cy5_000.tif",
        "Image-Height": "512",
        "Image-PixelType": "GRAY8",
        "Image-Width": "512",
        "Objective-Description": "Demo objective turret driver",
        "Objective-Label": "Nikon 10X S Fluor",
        "Objective-Name": "DObjective",
        "Objective-State": "1",
        "Path-Description": "Demo light-path driver",
        "Path-Label": "State-0",
        "Path-Name": "DLightPath",
        "Path-State": "0",
        "Shutter-Description": "Demo shutter driver",
        "Shutter-Name": "DShutter",
        "Shutter-State": "0",
        "UUID": "7d381986-35c5-4d88-af98-73ec6234a619",
        "XY-Description": "Demo XY stage driver",
        "XY-Name": "DXYStage",
        "XY-TransposeMirrorX": "0",
        "XY-TransposeMirrorY": "0",
        "Z-Description": "Demo stage driver",
        "Z-Name": "DStage",
        "Z-Position": "0.0000"
   },

</pre>
In addition, these FrameKeys are also stored as metadata in the image tiff files.

==1.3 (MetadataVersion 8)==

The metadata.txt file contains a JSON key-value map. Keys are generally in random order. Most keys in this map are "FrameKey-(Frame)-(Channel)-(Slice)" for each image.

Here is an example of a FrameKey:

<pre>
   "FrameKey-3-1-1": {
      "Exposure-ms": "10.0",
      "Time": "Tue Oct 12 09:38:26 PDT 2010",
      "ElapsedTime-ms": 474,
      "Slice": 1,
      "Channel": "DAPI",
      "FileName": "img_000000003_DAPI_001.tif",
      "Y-um": "-0.0",
      "X-um": "-0.0",
      "Z-um": "0.0",
      "Frame": 3
   }
</pre>

Also in the root map is a "SystemState" key (not found in later versions of Micro-Manager), which provides the state of the system for each image: 

<pre>
 "SystemState": {
      "FrameKey-3-1-1": {
         "Camera-TransposeMirrorX": "0",
         "Core-AutoFocus": "Autofocus",
         "Camera-Name": "DCam",
         "Objective-Label": "Nikon 10X S Fluor",
         "Dichroic-State": "0",
         "Dichroic-Label": "400DCLP",
         "Dichroic-Name": "DWheel",
         "Camera-ErrorSimulation": "0",
         "Camera-ReadoutTime": "0.0000",
         "Camera-TestProperty3": "3.0470",
         "Camera-TransposeCorrection": "0",
         "Autofocus-Name": "DAutoFocus",
         "XY-Description": "Demo XY stage driver",
         "Core-Focus": "Z",
         "Camera-Gain": "0",
         "Objective-Name": "DObjective",
         "Core-TimeoutMs": "5000",
         "Camera-Offset": "0",
         "Emission-ClosedPosition": "0",
         "Core-XYStage": "XY",
         "Camera-TestProperty4": "4.6789",
         "Emission-Name": "DWheel",
         "Core-ChannelGroup": "Channel",
         "Z-Name": "DStage",
         "Z-Position": "0.0000",
         "Excitation-ClosedPosition": "0",
         "Shutter-Description": "Demo shutter driver",
         "Z-Description": "Demo stage driver",
         "Camera-TransposeXY": "0",
         "Emission-Description": "Demo filter wheel driver",
         "Core-AutoShutter": "1",
         "Excitation-Label": "Chroma-D360",
         "Objective-State": "1",
         "XY-TransposeMirrorX": "0",
         "Camera-CameraName": "DemoCamera-MultiMode",
         "Core-Camera": "Camera",
         "Excitation-Description": "Demo filter wheel driver",
         "Objective-Description": "Demo objective turret driver",
         "Camera-TestProperty1": "1.5328",
         "Excitation-State": "0",
         "Shutter-Name": "DShutter",
         "Camera-TransposeMirrorY": "0",
         "Camera-CameraID": "V1.0",
         "Path-Name": "DLightPath",
         "Camera-Binning": "1",
         "Camera-ScanMode": "1",
         "Camera-Description": "Demo Camera Device Adapter",
         "Core-Shutter": "Shutter",
         "Autofocus-Description": "Demo auto-focus adapter",
         "Shutter-State": "0",
         "XY-TransposeMirrorY": "0",
         "Excitation-Name": "DWheel",
         "Path-Label": "State-0",
         "Camera-Exposure": "10.00",
         "Dichroic-ClosedPosition": "0",
         "Camera-CCDTemperature": "0.0000",
         "Camera-PixelType": "8bit",
         "Core-Initialize": "1",
         "Camera-TestProperty2": "2.2190",
         "Core-SLM": "",
         "Core-ImageProcessor": "",
         "Emission-Label": "Chroma-HQ620",
         "XY-Name": "DXYStage",
         "Camera-BitDepth": "8",
         "Emission-State": "0",
         "Dichroic-Description": "Demo filter wheel driver",
         "Path-State": "0",
         "Path-Description": "Demo light-path driver"
      },
</pre>

There is also a "Summary" key mapped to a nested JSON data structure, such as this one:

<pre>
"Summary": {
      "z-step_um": "1.0",
      "Time": "2010-10-12 09:38:25",
      "Comment": "",
      "Height": 512,
      "Date": "2010-10-12",
      "Channels": 4,
      "PixelAspect": "1.0",
      "GUID": "e99541d7b6c27820-32c4303b5f03f7ca",
      "ChColors": [
         -16724941,
         -65485,
         -16776961,
         -6749953
      ],
      "Width": 512,
      "IJType": 0,
      "Interval_ms": 1,
      "ChNames": [
         "Cy5",
         "DAPI",
         "FITC",
         "Rhodamine"
      ],
      "GridRow": "0",
      "UserName": "arthur",
      "Depth": 1,
      "GridColumn": "0",
      "ChContrastMax": [
         22,
         22,
         22,
         22
      ],
      "PixelSize_um": "1.0",
      "Source": "Micro-Manager",
      "Slices": 2,
      "MetadataVersion": 8,
      "ComputerName": "udp011420uds.ucsf.edu",
      "Frames": 5,
      "Position": "Pos0",
      "ChContrastMin": [
         2,
         2,
         2,
         2
      ]
   },
</pre>
