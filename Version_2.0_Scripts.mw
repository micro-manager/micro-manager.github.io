This page shows some example Beanshell scripts using the [https://micro-manager.org/wiki/Version_2.0_API 2.0 API].

More 2.0 scripts can be found [https://github.com/micro-manager/micro-manager/tree/mm2/scripts in the 2.0 repository on github].

=== Manual acquisition with display ===

This script creates a Datastore, adds a DisplayWindow to it, manually snaps a few images, converts them from TaggedImage to Image, changes their coordinates, adds them to the Datastore, and then saves the result to disk.

 import org.micromanager.data.Coords;
 import org.micromanager.data.Image;
 import org.micromanager.data.Datastore;
 import org.micromanager.display.DisplayWindow;

 import mmcorej.TaggedImage;

 Datastore store = mm.data().createRAMDatastore();
 DisplayWindow display = mm.displays().createDisplay(store);

 mm.getCore().snapImage();
 TaggedImage tmp = mm.getCore().getTaggedImage();
 Image image1 = mm.data().convertTaggedImage(tmp);
 image1 = image1.copyAtCoords(image1.getCoords().copy().channel(0).build());

 mm.getCore().snapImage();
 tmp = mm.getCore().getTaggedImage();
 Image image2 = mm.data().convertTaggedImage(tmp);
 image2 = image2.copyAtCoords(image1.getCoords().copy().channel(1).build());

 store.putImage(image1);
 store.putImage(image2);
 store.save(Datastore.SaveMode.MULTIPAGE_TIFF, display);
