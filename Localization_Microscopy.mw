==Introduction==
This plugin uses Gaussian fitting to localize single fluorescent molecules for  tracking or reconstruction of super-resolution images. One window is used to set parameters for fitting and tracking, the second window (which can be opened from the first using the 'Data' button) is used to perform operations (such as rendering, drift correction, etc.) on data-sets of fitting results.

==Getting Started==
<table cellspacing=20><tr  valign=top><td>
[[Image: Main_LMPlugin.PNG]]</td>
<td>
To track a spot of interest in a time-series, draw a box around the spot and press the 'Track' button.  After a short while, a row will appear in the '''Gaussian tracking data Window'''.  Select the row and press '''Plot''' to visualize  movement of the spot in the x direction.

To obtain a super-resolution image, acquire images using a square ROI with a size that is a power of 2 (256x256 often works best).  Acquire a large data series of your blinking molecules (use the '''show''' button to get a feel for the number of spots that can be detected in your data).  Press '''Fit''' to find spots and fit Gaussians to them.  After a while, a row will appear in the  '''Gaussian tracking data Window'''.  Selected the row.  Make sure the drop-down box in the Localization Microscopy section is set to 8x.  Press '''Render'''.
</td>
</table>

==Localization Microscope Window (first window)==

__NOTOC__
<table cellspacing=15><tr  valign=top><td>
[[Image: Image-Prams.JPG]]</td>
<td>'''Imaging Parameters:'''<br> 
Values entered in this section will be used in subsequent calculations.  Press the '''read''' button to deduce some of these values from the meta-data contained in Micro-Manager datasets.  You will need to measure the [[Photon-conversion factor (pcf)]] or use the pcf provided on the camera data-sheet.  If you do not use EM gain, enter '1' in the field '''linear EM gain''' (to calculate the number of photons, digital numbers will be multiplied by pcf / linear EM gain.  The '''Camera Offset''' (in digital numbers) is the average of an exposure in which no light can reach the camera.  The program uses this to calculate the actual number of photons detected in signal and background.
</td>
</table>

<table cellspacing=15><tr valign=top><td>
[[Image: Max-settings.JPG]]</td>
<td>'''Finding Maxima'''
To find spots, the application searches the image using a box with the size given in the Fit Parameters section.  The minimum difference (in digital numbers) between the center pixel and the average of the four corner pixels should be at least the value of the '''Noise tolerance''' field for a putative spot to qualify.  The image can optionally be '''pre-filtered''' by obtaining the difference image of a Gaussian filter with a width equal to the pixel size and a Gaussian filter 5 times the pixel size.  However, such pref-filtering rarely helps and will slow down calculations. The '''show''' button will show on the frontmost window what objects will be recognized as spots.
</td>
</table>

<table cellspacing=15><tr valign=top><td>
[[Image: Fit-prams.JPG]]</td>
<td>'''Fitting Parameters'''
'''Dimensions:''' Determines the model used for the Gaussian.  1 - results in symmetric Gaussian in which only the width can vary, 2 - elliptical Gaussian, 3 - elliptical Gaussian in which the angle (theta) of the blob can vary.  See [http://en.wikipedia.org/wiki/Gaussian_function Wikipedia article on Gaussian] for details. <br> 
'''Fitter:''' Use either the [http://en.wikipedia.org/wiki/Simplex_algorithm Simplex] or [http://en.wikipedia.org/wiki/Levenberg%E2%80%93Marquardt_algorithm  Levenberg-Marquardt] fitter.  Levenberg Marquardt needs many fewer iterations to converge and is generally faster. <br>
'''Max Iterations:''' Try 1000 for Simplex Fitter and 50 for Levenberg-Marquardt.  Nicely shaped spots will converge much faster (especially using the LM fitter), so setting this number low will avoid spending many cpu cycles on poorly shaped spots.<br>
'''Box Size (pixels):''' This number will be rounded to the next higher odd number.  It is used in both the spot finding and Gaussian fitting.  Keeping it small (equivalent of about 4 times resolution of the microscope, i.e. about 800 nm total when using a 100x 1.4na objective) will speed up analysis considerably.
</td>
</table>

<table cellspacing=15><tr valign=top><td>
[[Image: Filter-data.JPG]]</td>
<td>'''Filtering Data'''
</td>
</table>

<table cellspacing=15><tr><td>
[[Image: Data-processing.JPG]]</td></tr>
<td> '''Data Processing'''
</td> <tr><td>
{|
|-
|[[Image: Fit-button.JPG]]   blank
|-
|[[Image: Track-button.JPG]] blank
|-
|[[Image: MTrack-button.JPG]] MTrack: blank
|-
|[[Image: Data-button.JPG]] Data: blank
|- 
|[[Image:Stop-button.JPG ]] Stop: blank 
|}
</td></tr>
</table>

==Data processing window==

[[Image: DataProc_LMPlugin.PNG]]

====Drift correction====
====2C ref. and cor.====
====Plotting====
====Rendering====
